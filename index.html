<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1e40af">
    <title>рдЧреБрдгрд╕реНрдерд╛рди - 24 рдард╛рдгрд╛ | Complete Edition</title>
    
    <!-- Manifest for PWA -->
    <link rel="manifest" href="./manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ЁЯХЙя╕П</text></svg>">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/definitions.css">
    <link rel="stylesheet" href="./css/matrix.css">
</head>
<body>
    <div class="app-header">
        <h1 class="app-title">рдЧреБрдгрд╕реНрдерд╛рди рд╕реЛрдкрд╛рди - рдЪреМрдмреАрд╕ рдард╛рдгрд╛</h1>
        <div class="app-subtitle">Complete Spiritual Journey Mapping</div>
    </div>
    
    <div class="tab-container">
        <button class="tab active" data-tab="overview">Overview</button>
        <button class="tab" data-tab="matrix">Matrix</button>
        <button class="tab" data-tab="transitions">Transitions</button>
        <button class="tab" data-tab="definitions">Definitions</button>
    </div>
    
    <div class="content">
        <div id="overview-content" class="tab-content">
            <div class="info-section">
                <div class="info-title">рдПрдХ рд╡рд┐рдирдореНрд░ рдирд┐рд╡реЗрджрди</div>
                <div class="info-description">
                    рдпрд╣ рдПрдк рдорд╛рддреНрд░ рдПрдХ рдкреНрд░рдпрд╛рд╕ рд╣реИ тАФ
                    рдЪреМрдмреАрд╕ рдард╛рдгрд╛ рдХреЛ рдереЛрдбрд╝рд╛ рд╕рд░рд▓, рджреГрд╢реНрдп рдФрд░ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХрд╛ред
                    
                    ЁЯТб рдЗрд╕рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдЖрдкрдХреА рдЬрд┐рдЬреНрдЮрд╛рд╕рд╛ рдмрдврд╝рд╛рдирд╛ рд╣реИ, рд╕рдорд╛рдзрд╛рди рджреЗрдирд╛ рдирд╣реАрдВ ред
                    
                    ЁЯСЙ рдореВрд▓ рдЕрдзреНрдпрдпрди рд╕рджреИрд╡ рдЖрдЧрдо рдЧреНрд░рдВрдереЛрдВ, рдЧреБрд░реБрдУрдВ рдХреА рд╡рд╛рдгреА рдФрд░ рдЖрддреНрдо-рдЪрд┐рдВрддрди рд╕реЗ рд╣реА рдХрд░реЗрдВред
                    рдпрд╣ рдПрдк рдирд╛ рддреЛ рдкреНрд░рд╡рдЪрди рдХрд╛ рд╡рд┐рдХрд▓реНрдк рд╣реИ, рдирд╛ рд╣реА рдЖрдзреНрдпрд╛рддреНрдорд┐рдХ рдирд┐рд╖реНрдХрд░реНрд╖ рдХрд╛ рд╕реНрд░реЛрддред
                </div>
            </div>
            <div id="gunasthan-list"></div>
        </div>
        
        <div id="matrix-content" class="tab-content hidden">
            <div class="info-section">
                <div class="info-title">24 Thana Matrix</div>
                <div class="info-description">
                    Comprehensive mapping of 24 spiritual attributes across all 14 Gunasthanas. 
                    Click any cell to see detailed breakdown of present and absent characteristics.
                    Click on individual terms to see their definitions.
                </div>
            </div>
            <div class="matrix-container">
                <div style="margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 12px; align-items: center;">
                    <label style="font-weight: 600; color: #374151;">Matrix View:</label>
                    <select id="matrix-selector" data-change="changeMatrix" style="padding: 8px 12px; border: 2px solid #d1d5db; border-radius: 8px; background: white; font-size: 14px;">
                        <option value="default">Thana-Gunasthan (24├Ч14)</option>
                        <option value="gati">Gati Matrix (4├Ч24)</option>
                        <option value="indriya">Indriya Matrix (5├Ч24)</option>
                    </select>
                </div>
                <div id="matrix-table"></div>
            </div>
        </div>
        
        <div id="transitions-content" class="tab-content hidden">
            <div class="info-section">
                <div class="info-title">Spiritual Progression Paths</div>
                <div class="info-description">
                    Explore possible transitions between Gunasthanas. Each stage has specific paths forward or backward
                    based on spiritual progress and karmic conditions. 
                    рд╡рд┐рднрд┐рдиреНрди рдЧреБрдгрд╕реНрдерд╛рди рдореЗрдВ рдЖрд░реЛрд╣рдг рддрдерд╛ рдЕрд╡рд░реЛрд╣рдг  рдХреЗ рдирд┐рдпрдо 
                </div>
            </div>
            <div id="transitions-list"></div>
        </div>
        
        <div id="definitions-content" class="tab-content hidden">
            <div class="info-section">
                <div class="info-title">Comprehensive Definitions</div>
                <div class="info-description">
                    Detailed explanations of all Jain philosophical terms and concepts used in the application.
                    Search or browse by category to understand the meanings and significance.
                </div>
            </div>
            <div style="display: flex; gap: 8px; margin-bottom: 16px;">
                <input type="text" id="definition-search" class="search-box" placeholder="Search definitions (Hindi/English/Sanskrit)..." 
                       data-input="searchDefinitions" 
                       data-keypress="searchOnEnter"
                       style="flex: 1; margin-bottom: 0;">
                <button id="voice-search-btn" data-click="startVoiceSearch" 
                        style="background: #10b981; color: white; border: none; padding: 14px 16px; border-radius: 12px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                    ЁЯОд
                </button>
                <button id="search-definitions-btn" data-click="searchDefinitionsFromInput" 
                        style="background: #3b82f6; color: white; border: none; padding: 14px 20px; border-radius: 12px; cursor: pointer; font-weight: 600; white-space: nowrap;">
                    ЁЯФН
                </button>
                <button id="clear-search-btn" data-click="clearDefinitionSearch" 
                        style="background: #6b7280; color: white; border: none; padding: 14px 16px; border-radius: 12px; cursor: pointer; font-weight: 600;">
                    тЬЦ
                </button>
            </div>
            <div id="voice-status" style="display: none; text-align: center; margin-bottom: 12px; padding: 8px; background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; color: #78350f; font-size: 14px;">
                ЁЯОд Listening... Speak now!
            </div>
            <div id="definitions-list"></div>
        </div>
    </div>
    
    <div id="tooltip-modal" class="tooltip-modal hidden" data-click="closeTooltipModal">
        <div class="tooltip-content" data-click="stopPropagation">
            <div class="tooltip-header">
                <div class="tooltip-title-section">
                    <h3 id="tooltip-title" class="tooltip-title"></h3>
                    <div id="tooltip-subtitle" class="tooltip-subtitle"></div>
                    <div id="tooltip-gunasthan" class="tooltip-gunasthan-info"></div>
                </div>
                <button class="close-button" data-click="closeTooltip">├Ч</button>
            </div>
            
            <div class="tooltip-stats">
                <div class="stat-item">
                    <span class="stat-value" id="stat-present">0</span>
                    <span class="stat-label">Present</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="stat-absent">0</span>
                    <span class="stat-label">Absent</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="stat-total">0</span>
                    <span class="stat-label">Total</span>
                </div>
            </div>
            
            <div id="tooltip-body"></div>
        </div>
    </div>
    
    <!-- JavaScript Modules -->
    <script type="module" src="./js/core/app.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js')
            .then(registration => {
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            })
            .catch(error => {
              console.log('ServiceWorker registration failed: ', error);
            });
        });
      }
    </script>
</body>
</html>
