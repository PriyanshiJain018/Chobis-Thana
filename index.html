<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1e40af">
    <title>24 ‡§†‡§æ‡§£‡§æ | Complete Edition</title>
    
    <!-- Manifest for PWA -->
    <link rel="manifest" href="./manifest.json">
    <link rel="icon" href="./icon.png">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/definitions.css">
    <link rel="stylesheet" href="./css/matrix.css">
</head>
<body>
    <div class="app-header">
        <h1 class="app-title">‡§ö‡•å‡§¨‡•Ä‡§∏ ‡§†‡§æ‡§£‡§æ</h1>
        <div class="app-subtitle">Complete Spiritual Journey Mapping</div>
    </div>
    
    <div class="tab-container">
        <button class="tab active" data-tab="overview">Overview</button>
        <button class="tab" data-tab="matrix">Matrix</button>
        <button class="tab" data-tab="transitions">Transitions</button>
        <button class="tab" data-tab="definitions">Definitions</button>
    </div>
    
    <div class="content">
        <div id="overview-content" class="tab-content">
            <div class="info-section">
                <div class="info-title">‡§è‡§ï ‡§µ‡§ø‡§®‡§Æ‡•ç‡§∞ ‡§®‡§ø‡§µ‡•á‡§¶‡§®</div>
                <div class="info-description">
                    ‡§Ø‡§π ‡§è‡§™ ‡§Æ‡§æ‡§§‡•ç‡§∞ ‡§è‡§ï ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§π‡•à ‚Äî
                    ‡§ö‡•å‡§¨‡•Ä‡§∏ ‡§†‡§æ‡§£‡§æ ‡§ï‡•ã ‡§•‡•ã‡§°‡§º‡§æ ‡§∏‡§∞‡§≤, ‡§¶‡•É‡§∂‡•ç‡§Ø ‡§î‡§∞ ‡§á‡§Ç‡§ü‡§∞‡•à‡§ï‡•ç‡§ü‡§ø‡§µ ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡•Å‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ‡•§
                    
                    üí° ‡§á‡§∏‡§ï‡§æ ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§ø‡§ú‡•ç‡§û‡§æ‡§∏‡§æ ‡§¨‡§¢‡§º‡§æ‡§®‡§æ ‡§π‡•à, ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§® ‡§¶‡•á‡§®‡§æ ‡§®‡§π‡•Ä‡§Ç ‡•§
                    
                    üëâ ‡§Æ‡•Ç‡§≤ ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§∏‡§¶‡•à‡§µ ‡§Ü‡§ó‡§Æ ‡§ó‡•ç‡§∞‡§Ç‡§•‡•ã‡§Ç, ‡§ó‡•Å‡§∞‡•Å‡§ì‡§Ç ‡§ï‡•Ä ‡§µ‡§æ‡§£‡•Ä ‡§î‡§∞ ‡§Ü‡§§‡•ç‡§Æ-‡§ö‡§ø‡§Ç‡§§‡§® ‡§∏‡•á ‡§π‡•Ä ‡§ï‡§∞‡•á‡§Ç‡•§
                    ‡§Ø‡§π ‡§è‡§™ ‡§®‡§æ ‡§§‡•ã ‡§™‡•ç‡§∞‡§µ‡§ö‡§® ‡§ï‡§æ ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§π‡•à, ‡§®‡§æ ‡§π‡•Ä ‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§®‡§ø‡§∑‡•ç‡§ï‡§∞‡•ç‡§∑ ‡§ï‡§æ ‡§∏‡•ç‡§∞‡•ã‡§§‡•§
                </div>
            </div>
            <div id="gunasthan-list"></div>
        </div>
        
        <div id="matrix-content" class="tab-content hidden">
            <div class="info-section">
                <div class="info-title">24 Thana Matrix</div>
                <div class="info-description">
                    Comprehensive mapping of 24 spiritual attributes across all 14 Gunasthanas. 
                    Click any cell to see detailed breakdown of present and absent characteristics.
                    Click on individual terms to see their definitions.
                </div>
            </div>
            <div class="matrix-container">
                <div style="margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 12px; align-items: center;">
                    <label style="font-weight: 600; color: #374151;">Matrix View:</label>
                    <select id="matrix-selector" data-change="changeMatrix" style="padding: 8px 12px; border: 2px solid #d1d5db; border-radius: 8px; background: white; font-size: 14px;">
                        <option value="default">Thana-Gunasthan (24√ó14)</option>
                        <option value="gati">Gati Matrix (4√ó24)</option>
                        <option value="indriya">Indriya Matrix (5√ó24)</option>
                    </select>
                </div>
                <div id="matrix-table"></div>
            </div>
        </div>
        
        <div id="transitions-content" class="tab-content hidden">
            <div class="info-section">
                <div class="info-title">Spiritual Progression Paths</div>
                <div class="info-description">
                    Explore possible transitions between Gunasthanas. Each stage has specific paths forward or backward
                    based on spiritual progress and karmic conditions. 
                    ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§ó‡•Å‡§£‡§∏‡•ç‡§•‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§Ü‡§∞‡•ã‡§π‡§£ ‡§§‡§•‡§æ ‡§Ö‡§µ‡§∞‡•ã‡§π‡§£  ‡§ï‡•á ‡§®‡§ø‡§Ø‡§Æ 
                </div>
            </div>
            <div id="transitions-list"></div>
        </div>
        
        <div id="definitions-content" class="tab-content hidden">
            <div class="info-section">
                <div class="info-title">Comprehensive Definitions</div>
                <div class="info-description">
                    Detailed explanations of all Jain philosophical terms and concepts used in the application.
                    Search or browse by category to understand the meanings and significance.
                </div>
            </div>
            <div style="display: flex; gap: 8px; margin-bottom: 16px;">
                <input type="text" id="definition-search" class="search-box" placeholder="Search definitions (Hindi/English/Sanskrit)..." 
                       data-input="searchDefinitions" 
                       data-keypress="searchOnEnter"
                       style="flex: 1; margin-bottom: 0;">
                <button id="voice-search-btn" data-click="startVoiceSearch" 
                        style="background: #10b981; color: white; border: none; padding: 14px 16px; border-radius: 12px; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                    üé§
                </button>
                <button id="search-definitions-btn" data-click="searchDefinitionsFromInput" 
                        style="background: #3b82f6; color: white; border: none; padding: 14px 20px; border-radius: 12px; cursor: pointer; font-weight: 600; white-space: nowrap;">
                    üîç
                </button>
                <button id="clear-search-btn" data-click="clearDefinitionSearch" 
                        style="background: #6b7280; color: white; border: none; padding: 14px 16px; border-radius: 12px; cursor: pointer; font-weight: 600;">
                    ‚úñ
                </button>
            </div>
            <div id="voice-status" style="display: none; text-align: center; margin-bottom: 12px; padding: 8px; background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; color: #78350f; font-size: 14px;">
                üé§ Listening... Speak now!
            </div>
            <div id="definitions-list"></div>
        </div>
    </div>
    
    <div id="tooltip-modal" class="tooltip-modal hidden" data-click="closeTooltipModal">
        <div class="tooltip-content" data-click="stopPropagation">
            <div class="tooltip-header">
                <div class="tooltip-title-section">
                    <h3 id="tooltip-title" class="tooltip-title"></h3>
                    <div id="tooltip-subtitle" class="tooltip-subtitle"></div>
                    <div id="tooltip-gunasthan" class="tooltip-gunasthan-info"></div>
                </div>
                <button class="close-button" data-click="closeTooltip">√ó</button>
            </div>
            
            <div class="tooltip-stats">
                <div class="stat-item">
                    <span class="stat-value" id="stat-present">0</span>
                    <span class="stat-label">Present</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="stat-absent">0</span>
                    <span class="stat-label">Absent</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="stat-total">0</span>
                    <span class="stat-label">Total</span>
                </div>
            </div>
            
            <div id="tooltip-body"></div>
        </div>
    </div>
    
    <!-- JavaScript Modules -->
    <script type="module" src="./js/core/app.js"></script>
    <script type="module" src="./js/utils/hindi-display.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js')
            .then(registration => {
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            })
            .catch(error => {
              console.log('ServiceWorker registration failed: ', error);
            });
        });
      }
    </script>
</body>
</html>
